# Rime schema
# encoding: utf-8

schema:
  schema_id: clover_flypy
  name: ğŸ€ï¸å››å¶è‰ABCåŒæ‹¼
  version: "0.1"
  author:
    -Webster <webster.jiang@gmail.com>
  description: |
    ğŸ€ï¸å››å¶è‰ABCåŒæ‹¼ï¼š
    ä»¥ğŸ€ï¸å››å¶è‰ç®€ä½“æ‹¼éŸ³ä¸ºåŸºç¡€æ‰€é…ç½®çš„ä¸€æ¬¾è¾“å…¥æ–¹æ¡ˆã€‚
  dependencies:
    - emoji

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, è‹± ]
  - name: full_shape
    reset: 0
    states: [ åŠ, å…¨ ]
  - name: zh_simp_s2t
    reset: 0
    states: [ ç®€, ç¹ ]
  - name: ascii_punct
    reset: 0
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  - name: symbol_support
    reset: 1
    states: [ "æ— ç¬¦", "ç¬¦" ]
  - name: emoji_suggestion
    reset: 1
    states: [ ğŸ˜‘ï¸, ğŸ˜ï¸ ]
  
  

engine:
  processors:
    - ascii_composer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
  filters:
    - simplifier@emoji_suggestion
    - simplifier@symbol_support
    - simplifier
    - uniquifier

simplifier:
  option_name: zh_simp_s2t
  opencc_config: s2t.json

emoji_suggestion:
  opencc_config: emoji.json
  option_name: emoji_suggestion
  tips: all

symbol_support:
  opencc_config: symbol.json
  option_name: symbol_support
  tips: all

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: " '"
  algebra:  # æ‹¼å¯«é‹ç®—è¦å‰‡ï¼Œé€™å€‹çº”æ˜¯å¯¦ç¾é›™æ‹¼æ–¹æ¡ˆçš„é‡é»ã€‚å¯«æ³•æœ‰å¾ˆå¤šç¨®ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æŠŠå››ç™¾å¤šå€‹éŸ³ç¯€ç¢¼ä¸€æ¢ä¸€æ¢åœ°åˆ—èˆ‰
    - erase/^xx$/             # ç¢¼è¡¨ä¸­æœ‰å¹¾å€‹æ‹¼éŸ³ä¸æ˜çš„å­—ï¼Œç·¨ç¢¼æˆxxäº†ï¼Œæ¶ˆæ»…ä»–
    - derive/^([jqxy])u$/$1v/
    - xform/^zh/A/            # æ›¿æ›è²æ¯éµï¼Œç”¨å¤§å¯«ä»¥é˜²èˆ‡åŸæœ‰çš„å­—æ¯æ··æ·†
    - xform/^ch/E/
    - xform/^sh/V/
    - xform/^([aoe].*)$/O$1/  # æ·»ä¸Šå›ºå®šçš„é›¶è²æ¯oï¼Œå…ˆæ¨™è¨˜çˆ²å¤§å¯«O
    - xform/ei$/Q/            # æ›¿æ›éŸ»æ¯éµ
    - xform/ian$/W/           # â€»2
    - xform/er$|iu$/R/        # å°æ‡‰å…©ç¨®éŸ»æ¯çš„ï¼›éŸ³ç¯€erç¾åœ¨è®Šçˆ²ORäº†
    - xform/[iu]ang$/T/       # â€»1
    - xform/ing$/Y/
    - xform/uo$/O/
    - xform/uan$/P/           # â€»3
    - xform/i?ong$/S/
    - xform/[iu]a$/D/
    - xform/en$/F/
    - xform/eng$/G/
    - xform/ang$/H/           # æª¢æŸ¥ä¸€ä¸‹åœ¨æ­¤ä¹‹å‰æ˜¯å¦å·²è½‰æ›éäº†å¸¶ç•ŒéŸ³çš„angï¼›å¥½ï¼Œâ€»1è™•æœ‰äº†
    - xform/an$/J/            # å¦‚æœâ€»2ã€â€»3é‚„ç„¡æœ‰å‡ºç¾åœ¨ä¸Šæ–‡ä¸­ï¼Œæ‡‰è©²æŠŠä»–å€‘æåˆ°æœ¬è¡Œä¹‹å‰
    - xform/iao$/Z/           # å°â€”â€”åƒé€™æ¨£è®“iaoæå‰å‡ºå ´
    - xform/ao$/K/
    - xform/in$|uai$/C/       # è®“uaiæå‰å‡ºå ´
    - xform/ai$/L/
    - xform/ie$/X/
    - xform/ou$/B/
    - xform/un$/N/
    - xform/[uv]e$|ui$/M/
    - xlit/QWERTYOPASDFGHJKLZXCVBNM/qwertyopasdfghjklzxcvbnm/  # æœ€å¾ŒæŠŠé›™æ‹¼ç¢¼å…¨éƒ¨è®Šå°å¯«


translator:
  dictionary: clover
  prism: clover_abc
  enable_sentence: true               
  enable_user_dict: true               
  enable_encoder: true                 
  encode_commit_history: true          
  user_dict: user 
  max_phrase_length: 10                                     
  db_class: tabledb                     
  disable_user_dict_for_patterns:       
    - "^z.*$"
  
  preedit_format:             # é€™æ®µä»£ç¢¼ç”¨ä¾†å°‡è¼¸å…¥çš„é›™æ‹¼ç¢¼åè½‰çˆ²å…¨æ‹¼é¡¯ç¤ºï¼›å¾…è¦‹é›™æ‹¼ç¢¼çš„å¯ä»¥æŠŠé€™æ®µæ‹¿æ‰
    - xform/o(\w)/0$1/        # é›¶è²æ¯å…ˆæ”¹çˆ²0ï¼Œä»¥æ–¹ä¾¿å¾Œé¢çš„è½‰æ›
    - xform/(\w)q/$1ei/       # é›™æ‹¼ç¬¬äºŒç¢¼è½‰æ›çˆ²éŸ»æ¯
    - xform/(\w)n/$1un/       # æå‰è½‰æ›é›™æ‹¼ç¢¼ n å’Œ gï¼Œå› çˆ²è½‰æ›å¾Œçš„æ‹¼éŸ³è£å°±å¿«è¦å‡ºç¾é€™å…©å€‹å­—æ¯äº†ï¼Œé‚£æ™‚å°‡é›£ä»¥åˆ†è¾¨å‡ºé›™æ‹¼ç¢¼
    - xform/(\w)g/$1eng/      # ç•¶ç„¶ä¹Ÿå¯ä»¥æ¡å–äº‹å…ˆå°‡é›™æ‹¼ç¢¼è®Šçˆ²å¤§å¯«çš„è¾¦æ³•ä¾†èˆ‡è½‰æ›éçš„æ‹¼éŸ³åšå€åˆ†ï¼Œå¯èª°è®“æˆ‘æ˜¯é«˜æ‰‹å‘¢
    - xform/(\w)w/$1ian/
    - xform/([dtnljqx])r/$1iu/  # å°æ‡‰å¤šç¨®éŸ»æ¯çš„é›™æ‹¼ç¢¼ï¼ŒæŒ‰æ­é…çš„è²æ¯åšå€åˆ†ï¼ˆæœ€å¥½åˆ¥ç”¨æ’é™¤å¼å¦‚ [^o]r å®¹æ˜“å‡ºç‹€æ³ï¼‰
    - xform/0r/0er/             # å¦ä¸€ç¨®æƒ…æ³ï¼Œæ³¨æ„å…ˆä¸æ¶ˆé™¤0ï¼Œä»¥é˜²å¾Œé¢æŠŠeç•¶ä½œè²æ¯è½‰æ›çˆ²ch
    - xform/([nljqx])t/$1iang/
    - xform/(\w)t/$1uang/       # ä¸Šä¸€è¡Œå·²ç¶“æŠŠå°æ‡‰åˆ° iang çš„é›™æ‹¼ç¢¼ t æ¶ˆæ»…ï¼Œæ–¼æ˜¯é€™è£ä¸ç”¨å†åˆ—èˆ‰ç›¸é…çš„è²æ¯
    - xform/(\w)y/$1ing/
    - xform/([dtnlgkhaevrzcs])o/$1uo/
    - xform/(\w)p/$1uan/
    - xform/([jqx])s/$1iong/
    - xform/(\w)s/$1ong/
    - xform/([gkhaevrzcs])d/$1ua/
    - xform/(\w)d/$1ia/
    - xform/(\w)f/$1en/
    - xform/(\w)h/$1ang/
    - xform/(\w)j/$1an/
    - xform/(\w)k/$1ao/       # é»˜é»˜æª¢æŸ¥ï¼šé›™æ‹¼ç¢¼ o å·²ç¶“è½‰æ›éäº†
    - xform/(\w)l/$1ai/
    - xform/(\w)z/$1iao/
    - xform/(\w)x/$1ie/
    - xform/([gkhaev])c/$1uai/
    - xform/(\w)c/$1in/
    - xform/(\w)b/$1ou/
    - xform/([nl])m/$1ve/
    - xform/([jqxy])m/$1ue/
    - xform/(\w)m/$1ui/
    - "xform/(^|[ '])a/$1zh/"  # å¾©åŸè²æ¯ï¼ŒéŸ³ç¯€é–‹å§‹è™•çš„é›™æ‹¼å­—æ¯aæ”¹å¯«çˆ²zhï¼›å…¶ä»–ä½ç½®çš„æ‰çœŸæ­£æ˜¯a
    - "xform/(^|[ '])e/$1ch/"
    - "xform/(^|[ '])v/$1sh/"
    - xform/0(\w)/$1/          # å¥½äº†ï¼Œç¾åœ¨å¯ä»¥æŠŠé›¶è²æ¯æ‹¿æ‰å•¦
    - xform/([nl])v/$1Ã¼/       # é€™æ¨£çº”æ˜¯æ¼¢èªæ‹¼éŸ³ :-)
    - xform/([jqxy])v/$1u/

punctuator:
  import_preset: symbols
  full_shape:
    "`": "ï½€"
    "~": "ï½"
    "!": "ï¼"
    "@": "ï¼ "
    "#": "ï¼ƒ"
    "$": "ï¿¥"
    "%": "ï¼…"
    "^": "â€¦â€¦"
    "&": "ï¼†"
    "*": "Ã—"
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "_": "â€”â€”"
    "+": "ï¼‹"
    "-": "ï¼"
    "=": "ï¼"
    "[": "ã€"
    "]": "ã€‘"
    "{": "ï½›"
    "}": "ï½"
    "|": "ï½œ"
    "\\": "ã€"
    "/": "ã€"
    ";": "ï¼›"
    "'": "â€˜"
    ",": "ï¼Œ"
    ".": "ã€‚"
    "<": "ã€Š"
    ">": "ã€‹"
    "?": "ï¼Ÿ"
  half_shape:
    "`": "Â·"
    "~": "ï½"
    "!": "ï¼"
    "@": "@"
    "#": "#"
    "$": "ï¿¥"
    "%": "%"
    "^": "â€¦â€¦"
    "&": "&"
    "*": "Ã—"
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "_": "â€”â€”"
    "+": "+"
    "-": "-"
    "=": "="
    "[": "ã€"
    "]": "ã€‘"
    "{": "ï½›"
    "}": "ï½"
    "|": "ï½œ"
    "\\": "ã€"
    "/": "ã€"
    ";": "ï¼›"
    "'": "â€™"
    ",": "ï¼Œ"
    ".": "ã€‚"
    "<": "ã€Š"
    ">": "ã€‹"
    "?": "ï¼Ÿ"


key_binder:
  import_preset: default
  bindings:
    __patch:
      - key_bindings:/emacs_editing  # emacs ä¹ æƒ¯
      - key_bindings:/move_by_word_with_tab  # tab åœ¨å•è¯é—´åˆ‡æ¢
      - key_bindings:/paging_with_minus_equal  # å‡å·ç­‰å·ç¿»é¡µ
      - key_bindings:/paging_with_comma_period   # é€—å·å¥å·ç¿»é¡µ
      - key_bindings:/paging_with_brackets   # ä¸­æ‹¬å·ç¿»é¡µ
      - clover.key_bindings:/numbered_mode_switch   # Ctrl+Shift+æ•°å­— åˆ‡æ¢å¼€å…³
      - clover.key_bindings:/windows_compatible_mode_switch   # Windows å…¼å®¹
      - clover.key_bindings:/kp_enter_is_return   # å°é”®ç›˜å›è½¦è®¾ä¸ºæ™®é€šå›è½¦

ascii_composer:
  import_preset: default
  good_old_caps_lock: true
  switch_key:
    Shift_L: commit_code   # å·¦ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Shift_R: commit_code   # å³ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Control_L: noop
    Control_R: noop
    Caps_Lock: noop
    Eisu_toggle: clear
