# Rime schema
# encoding: utf-8

schema:
  schema_id: clover_pyjj
  name: ğŸ€ï¸å››å¶è‰æ‹¼éŸ³åŠ åŠ åŒæ‹¼
  version: "0.1"
  author:
    -Webster <webster.jiang@gmail.com>
  description: |
    ğŸ€ï¸å››å¶è‰æ‹¼éŸ³åŠ åŠ åŒæ‹¼ï¼š
    ä»¥ğŸ€ï¸å››å¶è‰ç®€ä½“æ‹¼éŸ³ä¸ºåŸºç¡€æ‰€é…ç½®çš„ä¸€æ¬¾è¾“å…¥æ–¹æ¡ˆã€‚
  dependencies:
    - emoji

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, è‹± ]
  - name: full_shape
    reset: 0
    states: [ åŠ, å…¨ ]
  - name: zh_simp_s2t
    reset: 0
    states: [ ç®€, ç¹ ]
  - name: ascii_punct
    reset: 0
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  - name: symbol_support
    reset: 1
    states: [ "æ— ç¬¦", "ç¬¦" ]
  - name: emoji_suggestion
    reset: 1
    states: [ ğŸ˜‘ï¸, ğŸ˜ï¸ ]
  
  

engine:
  processors:
    - ascii_composer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
  filters:
    - simplifier@emoji_suggestion
    - simplifier@symbol_support
    - simplifier
    - uniquifier

simplifier:
  option_name: zh_simp_s2t
  opencc_config: s2t.json

emoji_suggestion:
  opencc_config: emoji.json
  option_name: emoji_suggestion
  tips: all

symbol_support:
  opencc_config: symbol.json
  option_name: symbol_support
  tips: all

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: " '"
  algebra:
    - erase/^xx$/
    - derive/^([jqxy])u$/$1v/
    - derive/^([aoe].*)$/o$1/
    - xform/^([ae])(.*)$/$1$1$2/
    - xform/iu$/N/
    - xform/[iu]a$/B/
    - xform/er$|ing$/Q/
    - xform/[uv]an$/C/
    - xform/[uv]e$|uai$/X/
    - xform/^sh/I/
    - xform/^ch/U/
    - xform/^zh/V/
    - xform/uo$/O/
    - xform/[uv]n$/Z/
    - xform/i?ong$/Y/
    - xform/[iu]ang$/H/
    - xform/(.)en$/$1R/
    - xform/(.)eng$/$1T/
    - xform/(.)ang$/$1G/
    - xform/ian$/J/
    - xform/(.)an$/$1F/
    - xform/iao$/K/
    - xform/(.)ao$/$1D/
    - xform/(.)ai$/$1S/
    - xform/(.)ei$/$1W/
    - xform/ie$/M/
    - xform/ui$/V/
    - xform/(.)ou$/$1P/
    - xform/in$/L/
    - xlit/QWRTYUIOPSDFGHMJCKLZXVBN/qwrtyuiopsdfghmjcklzxvbn/
    #- abbrev/^(.).+$/$1/

translator:
  dictionary: clover
  prism: clover_pyjj
  enable_sentence: true               
  enable_user_dict: true               
  enable_encoder: true                 
  encode_commit_history: true          
  user_dict: user 
  max_phrase_length: 10                                     
  db_class: tabledb                     
  disable_user_dict_for_patterns:       
    - "^z.*$"
  
  preedit_format:
    - xform/([aoe])(\w)/0$2/
    - xform/([bpmnljqxy])l/$1IN/
    - xform/(\w)t/$1ENG/
    - xform/(\w)n/$1IU/
    - xform/([gkhvuirzcs])b/$1UA/
    - xform/(\w)b/$1IA/
    - xform/([dtnlgkhjqxyvuirzcs])c/$1UAN/
    - xform/0r/ER/
    - xform/([dtgkhvuirzcs])v/$1UI/
    - xform/(\w)v/$1V/
    - xform/([gkhvuirzcs])x/$1UAI/
    - xform/(\w)x/$1VE/
    - xform/([dtnlgkhvuirzcs])o/$1UO/
    - xform/(\w)z/$1UN/
    - xform/([jqx])y/$1IONG/
    - xform/(\w)y/$1ONG/
    - xform/([jqxnl])h/$1IANG/
    - xform/(\w)h/$1UANG/
    - xform/(\w)r/$1EN/
    - xform/(\w)g/$1ANG/
    - xform/(\w)f/$1AN/
    - xform/(\w)d/$1AO/
    - xform/(\w)s/$1AI/
    - xform/(\w)w/$1EI/
    - xform/(\w)m/$1IE/
    - xform/(\w)k/$1IAO/
    - xform/(\w)p/$1OU/
    - xform/(\w)j/$1IAN/
    - xform/(0)q/$1ER/
    - xform/(\w)q/$1ING/
    - xform/0(\w)/$1/
    - xlit/QWRTYUIOPSDFGHMJCKLZXVBNAEIOU/qwrtyuiopsdfghmjcklzxvbnaeiou/
    - "xform/(^|[ '])v/$1zh/"
    - "xform/(^|[ â€˜])u/$1ch/"
    - "xform/(^|[ â€˜])i/$1sh/"
    - xform/([jqxy])v/$1u/
    - xform/([nl])v/$1Ã¼/

punctuator:
  import_preset: symbols
  full_shape:
    "`": "ï½€"
    "~": "ï½"
    "!": "ï¼"
    "@": "ï¼ "
    "#": "ï¼ƒ"
    "$": "ï¿¥"
    "%": "ï¼…"
    "^": "â€¦â€¦"
    "&": "ï¼†"
    "*": "Ã—"
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "_": "â€”â€”"
    "+": "ï¼‹"
    "-": "ï¼"
    "=": "ï¼"
    "[": "ã€"
    "]": "ã€‘"
    "{": "ï½›"
    "}": "ï½"
    "|": "ï½œ"
    "\\": "ã€"
    "/": "ã€"
    ";": "ï¼›"
    "'": "â€˜"
    ",": "ï¼Œ"
    ".": "ã€‚"
    "<": "ã€Š"
    ">": "ã€‹"
    "?": "ï¼Ÿ"
  half_shape:
    "`": "Â·"
    "~": "ï½"
    "!": "ï¼"
    "@": "@"
    "#": "#"
    "$": "ï¿¥"
    "%": "%"
    "^": "â€¦â€¦"
    "&": "&"
    "*": "Ã—"
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "_": "â€”â€”"
    "+": "+"
    "-": "-"
    "=": "="
    "[": "ã€"
    "]": "ã€‘"
    "{": "ï½›"
    "}": "ï½"
    "|": "ï½œ"
    "\\": "ã€"
    "/": "ã€"
    ";": "ï¼›"
    "'": "â€™"
    ",": "ï¼Œ"
    ".": "ã€‚"
    "<": "ã€Š"
    ">": "ã€‹"
    "?": "ï¼Ÿ"


key_binder:
  import_preset: default
  bindings:
    __patch:
      - key_bindings:/emacs_editing  # emacs ä¹ æƒ¯
      - key_bindings:/move_by_word_with_tab  # tab åœ¨å•è¯é—´åˆ‡æ¢
      - key_bindings:/paging_with_minus_equal  # å‡å·ç­‰å·ç¿»é¡µ
      - key_bindings:/paging_with_comma_period   # é€—å·å¥å·ç¿»é¡µ
      - key_bindings:/paging_with_brackets   # ä¸­æ‹¬å·ç¿»é¡µ
      - clover.key_bindings:/numbered_mode_switch   # Ctrl+Shift+æ•°å­— åˆ‡æ¢å¼€å…³
      - clover.key_bindings:/windows_compatible_mode_switch   # Windows å…¼å®¹
      - clover.key_bindings:/kp_enter_is_return   # å°é”®ç›˜å›è½¦è®¾ä¸ºæ™®é€šå›è½¦

ascii_composer:
  import_preset: default
  good_old_caps_lock: true
  switch_key:
    Shift_L: commit_code   # å·¦ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Shift_R: commit_code   # å³ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Control_L: noop
    Control_R: noop
    Caps_Lock: noop
    Eisu_toggle: clear
